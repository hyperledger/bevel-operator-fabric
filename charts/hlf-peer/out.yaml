---
# Source: hlf-peer/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: peer01-championsarena
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
---
# Source: hlf-peer/templates/secret--peer-idcert.yaml
apiVersion: v1
kind: Secret
metadata:
  name: peer01-championsarena-idcert
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
type: Opaque
data:
  cert.pem: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUI5akNDQVp5Z0F3SUJBZ0lVWVdrWVlZQjVEdTBQcHQ4VVFkY29DL0hiL0lVd0NnWUlLb1pJemowRUF3SXcKYWpFTE1Ba0dBMVVFQmhNQ1JWTXhFVEFQQmdOVkJBY1RDRUZzYVdOaGJuUmxNUkV3RHdZRFZRUUpFd2hCYkdsagpZVzUwWlRFWk1CY0dBMVVFQ2hNUVMzVnVaeUJHZFNCVGIyWjBkMkZ5WlRFTk1Bc0dBMVVFQ3hNRVZHVmphREVMCk1Ba0dBMVVFQXhNQ1kyRXdIaGNOTWpNd01qSXpNREF4TURRNFdoY05NalF4TWpFM01UWTFNakF3V2pBZU1RMHcKQ3dZRFZRUUxFd1J3WldWeU1RMHdDd1lEVlFRREV3UndaV1Z5TUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowRApBUWNEUWdBRTJBd1JNMkhzaDRSYk9MSk83UThJWGFBc09sRVRBZW1XWmpDa1Nodm9ZaWF5U0dEOE53WVhvUDl1Cmp3cFp4clNWclBac3dyS2YyeEJGenRkZ0JpdkZPcU5zTUdvd0RnWURWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWQKRXdFQi93UUNNQUF3SFFZRFZSME9CQllFRkRNTGJ6N0xPeHhralRqK2xwZEtQYXFmZHZTZ01Dc0dBMVVkSXdRawpNQ0tBSUVqRDB2SGRuUVZIaHUxNG5CVlRmVnVMWE1NNHgwRkhyVlJNYjdTRE5ZNHVNQW9HQ0NxR1NNNDlCQU1DCkEwZ0FNRVVDSVFEejRkOWNObmhQQ29IQUJjZFFoc0tFc3F0NngvZTI5dFJkTWZqQmttTGZPQUlnQ1BqUk9BUWEKWkNKVDlmc2gzbG16dlMwSGUxWDJmTSt6WHRaa0IvYnR1enc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
---
# Source: hlf-peer/templates/secret--peer-idkey.yaml
apiVersion: v1
kind: Secret
metadata:
  name: peer01-championsarena-idkey
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
type: Opaque
data:
  key.pem: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR0hBZ0VBTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEJHMHdhd0lCQVFRZ0ZES3JYWVNGeUsyQzFaekgKTDd5cm9pRWNvOGsvL1VNN0lSNnNJOUdrMkRXaFJBTkNBQVRZREJFellleUhoRnM0c2s3dER3aGRvQ3c2VVJNQgo2WlptTUtSS0craGlKckpJWVB3M0JoZWcvMjZQQ2xuR3RKV3M5bXpDc3AvYkVFWE8xMkFHSzhVNgotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
---
# Source: hlf-peer/templates/secret--peer-ops-tls.yaml
apiVersion: v1
kind: Secret
metadata:
  name: peer01-championsarena-tls-ops
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
type: Opaque
data:
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNtakNDQWtDZ0F3SUJBZ0lVWElZdk1SQ1ZTN2I3OWEvU2JHQ0FRV2xCQUlVd0NnWUlLb1pJemowRUF3SXcKYlRFTE1Ba0dBMVVFQmhNQ1JWTXhFVEFQQmdOVkJBY1RDRUZzYVdOaGJuUmxNUkV3RHdZRFZRUUpFd2hCYkdsagpZVzUwWlRFWk1CY0dBMVVFQ2hNUVMzVnVaeUJHZFNCVGIyWjBkMkZ5WlRFTk1Bc0dBMVVFQ3hNRVZHVmphREVPCk1Bd0dBMVVFQXhNRmRHeHpZMkV3SGhjTk1qTXdNakl6TURBeE1EUTRXaGNOTWpReE1qRTNNVFkxTWpBd1dqQWUKTVEwd0N3WURWUVFMRXdSd1pXVnlNUTB3Q3dZRFZRUURFd1J3WldWeU1Ga3dFd1lIS29aSXpqMENBUVlJS29aSQp6ajBEQVFjRFFnQUVqU0tsUjVwUlluMnc2b2NMNTZuRmM0R2o1OEpRSXVIcGRCVU5ObmJRYTJ5NmQxVzhXUHh1CllPK3crTGZnQjFSZWF2VmxDb29JSlorVzJpV3hGdWJ6aWFPQ0FRc3dnZ0VITUE0R0ExVWREd0VCL3dRRUF3SUQKcURBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVEFRSC9CQUl3QURBZApCZ05WSFE0RUZnUVVmV0NCb3M1UXQwYUxXNGd4ZGZaUy9PbEFGREl3S3dZRFZSMGpCQ1F3SW9BZ0ZGYTJ3Z2ZMCnM3MnFKaWNuNmUxeXM4QTcxN3psUFJkcmpTYy9OaHRiVWJrd2ZBWURWUjBSQkhVd2M0SUpiRzlqWVd4b2IzTjAKZ2k5d1pXVnlNREV0WTJoaGJYQnBiMjV6WVhKbGJtRXVZM1Z5WVhSdmNpNWtaWFl1WjJGc1lXTm9ZV2x1TG1OdgpiWUl2Y0dWbGNqQXhMV05vWVcxd2FXOXVjMkZ5Wlc1aExtTjFjbUYwYjNJdVpHVjJMbWRoYkdGamFHRnBiaTVqCmIyMkhCSDhBQUFFd0NnWUlLb1pJemowRUF3SURTQUF3UlFJaEFJcjA0UTZpcFNZLy9EdGxEemYvSjllejBWM0oKR0pvVlRDT1FJOTBJOXI4ZkFpQlZTTkFHRkFuWllyeXdDWDhvVU5Janl4QmMzcjZ1RVRkcURFaDNCZ3NSTFE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
  tls.key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR0hBZ0VBTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEJHMHdhd0lCQVFRZ0p0bEV3ZFdNMmpzaUFqQmYKblJVOEVxeHJXMThNdmlkL2todjE2bXAvbXhxaFJBTkNBQVNOSXFWSG1sRmlmYkRxaHd2bnFjVnpnYVBud2xBaQo0ZWwwRlEwMmR0QnJiTHAzVmJ4WS9HNWc3N0Q0dCtBSFZGNXE5V1VLaWdnbG41YmFKYkVXNXZPSgotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
---
# Source: hlf-peer/templates/secret--peer-tls.yaml
apiVersion: v1
kind: Secret
metadata:
  name: peer01-championsarena-tls
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
type: Opaque
data:
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNtVENDQWtDZ0F3SUJBZ0lVQ3dwczh4aEtJa211ME9DeGlRakc2d3VMWWRzd0NnWUlLb1pJemowRUF3SXcKYlRFTE1Ba0dBMVVFQmhNQ1JWTXhFVEFQQmdOVkJBY1RDRUZzYVdOaGJuUmxNUkV3RHdZRFZRUUpFd2hCYkdsagpZVzUwWlRFWk1CY0dBMVVFQ2hNUVMzVnVaeUJHZFNCVGIyWjBkMkZ5WlRFTk1Bc0dBMVVFQ3hNRVZHVmphREVPCk1Bd0dBMVVFQXhNRmRHeHpZMkV3SGhjTk1qTXdNakl6TURBeE1EUTRXaGNOTWpReE1qRTNNVFkxTWpBd1dqQWUKTVEwd0N3WURWUVFMRXdSd1pXVnlNUTB3Q3dZRFZRUURFd1J3WldWeU1Ga3dFd1lIS29aSXpqMENBUVlJS29aSQp6ajBEQVFjRFFnQUVlS1Y3VXVFOHJFM1V4OTgzOGFadGROWUZyT1ZSVnJGRURFbTVHN0h0aFgzTVpyNmsxYnF6ClA5QnBrWjlVdkYyenRobUJiOVhMdzRUZk9WS0xuZjJ6ZEtPQ0FRc3dnZ0VITUE0R0ExVWREd0VCL3dRRUF3SUQKcURBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVEFRSC9CQUl3QURBZApCZ05WSFE0RUZnUVVRS05KaUFsaW45RktxRUJzVURQcFlSOWJUUW93S3dZRFZSMGpCQ1F3SW9BZ0ZGYTJ3Z2ZMCnM3MnFKaWNuNmUxeXM4QTcxN3psUFJkcmpTYy9OaHRiVWJrd2ZBWURWUjBSQkhVd2M0SUpiRzlqWVd4b2IzTjAKZ2k5d1pXVnlNREV0WTJoaGJYQnBiMjV6WVhKbGJtRXVZM1Z5WVhSdmNpNWtaWFl1WjJGc1lXTm9ZV2x1TG1OdgpiWUl2Y0dWbGNqQXhMV05vWVcxd2FXOXVjMkZ5Wlc1aExtTjFjbUYwYjNJdVpHVjJMbWRoYkdGamFHRnBiaTVqCmIyMkhCSDhBQUFFd0NnWUlLb1pJemowRUF3SURSd0F3UkFJZ05BOEZlbDgrZWhkVWFLc0VZYVNsRWp2NlNNcDEKRjRWN2Q4YklON3YwK3RRQ0lDdG1icms2aVNLN3RVbHdwUGFLRHRETnhIR0xCWlN5eFh5bGUzN0w0RGtUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
  tls.key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR0hBZ0VBTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEJHMHdhd0lCQVFRZ2RRVDZZZzdNamR6b3RrYkYKTjBBc1Jya1U0cXpkV1E0UUNUL1BLMXVFRkFlaFJBTkNBQVI0cFh0UzRUeXNUZFRIM3pmeHBtMTAxZ1dzNVZGVwpzVVFNU2JrYnNlMkZmY3htdnFUVnVyTS8wR21SbjFTOFhiTzJHWUZ2MWN2RGhOODVVb3VkL2JOMAotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
---
# Source: hlf-peer/templates/secret--peerorg-cacert.yaml
apiVersion: v1
kind: Secret
metadata:
  name: peer01-championsarena-cacert
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
type: Opaque
data:
  cacert.pem: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNQekNDQWVXZ0F3SUJBZ0lRWUpiV3pJZTRyem9NT0twVXRnajltekFLQmdncWhrak9QUVFEQWpCcU1Rc3cKQ1FZRFZRUUdFd0pGVXpFUk1BOEdBMVVFQnhNSVFXeHBZMkZ1ZEdVeEVUQVBCZ05WQkFrVENFRnNhV05oYm5SbApNUmt3RndZRFZRUUtFeEJMZFc1bklFWjFJRk52Wm5SM1lYSmxNUTB3Q3dZRFZRUUxFd1JVWldOb01Rc3dDUVlEClZRUURFd0pqWVRBZUZ3MHlNekF5TWpNd01ERXdORGhhRncwek16QXlNalF3TURFd05EaGFNR294Q3pBSkJnTlYKQkFZVEFrVlRNUkV3RHdZRFZRUUhFd2hCYkdsallXNTBaVEVSTUE4R0ExVUVDUk1JUVd4cFkyRnVkR1V4R1RBWApCZ05WQkFvVEVFdDFibWNnUm5VZ1UyOW1kSGRoY21VeERUQUxCZ05WQkFzVEJGUmxZMmd4Q3pBSkJnTlZCQU1UCkFtTmhNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUrN0NMQnV5dU5jSGZzVVJkWTdDUUhIK2IKWTQ3RmJTT3phY2RTZUFRYmV4MGhjampzWGNwT1VlbW1HUjB6V2gwUXpHOE5FVXpOL0l2QUhmakRZWUFydmFOdApNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNECkFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQkl3OUx4M1owRlI0YnRlSndWVTMxYmkxekQKT01kQlI2MVVURyswZ3pXT0xqQUtCZ2dxaGtqT1BRUURBZ05JQURCRkFpQUU1S0FNRXdIU3JVa1doeHZpZlFnTApBNFQxWTRFRERkNVdUQTRhczlPek1BSWhBSkltOWpyaUY2K3h1c05hNkYzdmkyaXZGTGJJQXRtMFZWMkhlcFhFCk1VNi8KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
---
# Source: hlf-peer/templates/secret--peerorg-tlsrootcert.yaml
apiVersion: v1
kind: Secret
metadata:
  name: peer01-championsarena-tlsrootcert
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
type: Opaque
data:
  cacert.pem: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNSakNDQWV1Z0F3SUJBZ0lRTkxweTFVYlFRbjBaT2QwRlNPcDJYREFLQmdncWhrak9QUVFEQWpCdE1Rc3cKQ1FZRFZRUUdFd0pGVXpFUk1BOEdBMVVFQnhNSVFXeHBZMkZ1ZEdVeEVUQVBCZ05WQkFrVENFRnNhV05oYm5SbApNUmt3RndZRFZRUUtFeEJMZFc1bklFWjFJRk52Wm5SM1lYSmxNUTB3Q3dZRFZRUUxFd1JVWldOb01RNHdEQVlEClZRUURFd1YwYkhOallUQWVGdzB5TXpBeU1qTXdNREV3TkRoYUZ3MHpNekF5TWpRd01ERXdORGhhTUcweEN6QUoKQmdOVkJBWVRBa1ZUTVJFd0R3WURWUVFIRXdoQmJHbGpZVzUwWlRFUk1BOEdBMVVFQ1JNSVFXeHBZMkZ1ZEdVeApHVEFYQmdOVkJBb1RFRXQxYm1jZ1JuVWdVMjltZEhkaGNtVXhEVEFMQmdOVkJBc1RCRlJsWTJneERqQU1CZ05WCkJBTVRCWFJzYzJOaE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRW1jWlNreVdnbmhWYmhPZFQKc3FXcjVvbFk5V2RtVzJJOXlRR0VwWkxuTEhtUTRJQjVscGtVdWJYYjlUaElEZlpGbG94dk8xZ1RWdzBuejlOWAp2am5Ma3FOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyCkJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNBVVZyYkNCOHV6dmFvbUp5ZnAKN1hLendEdlh2T1U5RjJ1Tkp6ODJHMXRSdVRBS0JnZ3Foa2pPUFFRREFnTkpBREJHQWlFQTFvOFFCOTNyMVBkcgpSUlBPdWgxdmxHdTVIb0MxVUsyZGtTWHVHRWpyWlZzQ0lRRFFHdUVtVEMxYnd6ME1nUEh6MHRDSTNTVWRQZ1VHClRyZitZWVBLakp3Q1JBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
---
# Source: hlf-peer/templates/secret--tlsclientrootcert.yaml
apiVersion: v1
kind: Secret
metadata:
  name: peer01-championsarena--tlsclientrootcerts
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
type: Opaque
data:
  cert.pem: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNSakNDQWV1Z0F3SUJBZ0lRTkxweTFVYlFRbjBaT2QwRlNPcDJYREFLQmdncWhrak9QUVFEQWpCdE1Rc3cKQ1FZRFZRUUdFd0pGVXpFUk1BOEdBMVVFQnhNSVFXeHBZMkZ1ZEdVeEVUQVBCZ05WQkFrVENFRnNhV05oYm5SbApNUmt3RndZRFZRUUtFeEJMZFc1bklFWjFJRk52Wm5SM1lYSmxNUTB3Q3dZRFZRUUxFd1JVWldOb01RNHdEQVlEClZRUURFd1YwYkhOallUQWVGdzB5TXpBeU1qTXdNREV3TkRoYUZ3MHpNekF5TWpRd01ERXdORGhhTUcweEN6QUoKQmdOVkJBWVRBa1ZUTVJFd0R3WURWUVFIRXdoQmJHbGpZVzUwWlRFUk1BOEdBMVVFQ1JNSVFXeHBZMkZ1ZEdVeApHVEFYQmdOVkJBb1RFRXQxYm1jZ1JuVWdVMjltZEhkaGNtVXhEVEFMQmdOVkJBc1RCRlJsWTJneERqQU1CZ05WCkJBTVRCWFJzYzJOaE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRW1jWlNreVdnbmhWYmhPZFQKc3FXcjVvbFk5V2RtVzJJOXlRR0VwWkxuTEhtUTRJQjVscGtVdWJYYjlUaElEZlpGbG94dk8xZ1RWdzBuejlOWAp2am5Ma3FOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyCkJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNBVVZyYkNCOHV6dmFvbUp5ZnAKN1hLendEdlh2T1U5RjJ1Tkp6ODJHMXRSdVRBS0JnZ3Foa2pPUFFRREFnTkpBREJHQWlFQTFvOFFCOTNyMVBkcgpSUlBPdWgxdmxHdTVIb0MxVUsyZGtTWHVHRWpyWlZzQ0lRRFFHdUVtVEMxYnd6ME1nUEh6MHRDSTNTVWRQZ1VHClRyZitZWVBLakp3Q1JBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
---
# Source: hlf-peer/templates/config-ou.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: peer01-championsarena-nodeou
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
data:
  config.yaml: |
    NodeOUs:
      Enable: true
      ClientOUIdentifier:
        Certificate: cacerts/cacert.pem
        OrganizationalUnitIdentifier: client
      PeerOUIdentifier:
        Certificate: cacerts/cacert.pem
        OrganizationalUnitIdentifier: peer
      AdminOUIdentifier:
        Certificate: cacerts/cacert.pem
        OrganizationalUnitIdentifier: admin
      OrdererOUIdentifier:
        Certificate: cacerts/cacert.pem
        OrganizationalUnitIdentifier: orderer
---
# Source: hlf-peer/templates/configmap--peer--core.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: peer01-championsarena--peer--core
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
data:
  core.yaml: |
    # Copyright IBM Corp. All Rights Reserved.
    #
    # SPDX-License-Identifier: Apache-2.0
    #

    ###############################################################################
    #
    #    Peer section
    #
    ###############################################################################
    peer:

      # The peer id provides a name for this peer instance and is used when
      # naming docker resources.
      id: jdoe

      # The networkId allows for logical separation of networks and is used when
      # naming docker resources.
      networkId: dev

      # The Address at local network interface this Peer will listen on.
      # By default, it will listen on all network interfaces
      listenAddress: 0.0.0.0:7051

      # The endpoint this peer uses to listen for inbound chaincode connections.
      # If this is commented-out, the listen address is selected to be
      # the peer's address (see below) with port 7052
      # chaincodeListenAddress: 0.0.0.0:7052

      # The endpoint the chaincode for this peer uses to connect to the peer.
      # If this is not specified, the chaincodeListenAddress address is selected.
      # And if chaincodeListenAddress is not specified, address is selected from
      # peer address (see below). If specified peer address is invalid then it
      # will fallback to the auto detected IP (local IP) regardless of the peer
      # addressAutoDetect value.
      # chaincodeAddress: 0.0.0.0:7052

      # When used as peer config, this represents the endpoint to other peers
      # in the same organization. For peers in other organization, see
      # gossip.externalEndpoint for more info.
      # When used as CLI config, this means the peer's endpoint to interact with
      address: 0.0.0.0:7051

      # Whether the Peer should programmatically determine its address
      # This case is useful for docker containers.
      # When set to true, will override peer address.
      addressAutoDetect: false

      # Keepalive settings for peer server and clients
      keepalive:
        # Interval is the duration after which if the server does not see
        # any activity from the client it pings the client to see if it's alive
        interval: 7200s
        # Timeout is the duration the server waits for a response
        # from the client after sending a ping before closing the connection
        timeout: 20s
        # MinInterval is the minimum permitted time between client pings.
        # If clients send pings more frequently, the peer server will
        # disconnect them
        minInterval: 60s
        # Client keepalive settings for communicating with other peer nodes
        client:
          # Interval is the time between pings to peer nodes.  This must
          # greater than or equal to the minInterval specified by peer
          # nodes
          interval: 60s
          # Timeout is the duration the client waits for a response from
          # peer nodes before closing the connection
          timeout: 20s
        # DeliveryClient keepalive settings for communication with ordering
        # nodes.
        deliveryClient:
          # Interval is the time between pings to ordering nodes.  This must
          # greater than or equal to the minInterval specified by ordering
          # nodes.
          interval: 60s
          # Timeout is the duration the client waits for a response from
          # ordering nodes before closing the connection
          timeout: 20s


      # Gossip related configuration
      gossip:
        # Bootstrap set to initialize gossip with.
        # This is a list of other peers that this peer reaches out to at startup.
        # Important: The endpoints here have to be endpoints of peers in the same
        # organization, because the peer would refuse connecting to these endpoints
        # unless they are in the same organization as the peer.
        bootstrap: 127.0.0.1:7051

        # NOTE: orgLeader and useLeaderElection parameters are mutual exclusive.
        # Setting both to true would result in the termination of the peer
        # since this is undefined state. If the peers are configured with
        # useLeaderElection=false, make sure there is at least 1 peer in the
        # organization that its orgLeader is set to true.

        # Defines whenever peer will initialize dynamic algorithm for
        # "leader" selection, where leader is the peer to establish
        # connection with ordering service and use delivery protocol
        # to pull ledger blocks from ordering service.
        useLeaderElection: false
        # Statically defines peer to be an organization "leader",
        # where this means that current peer will maintain connection
        # with ordering service and disseminate block across peers in
        # its own organization. Multiple peers or all peers in an organization
        # may be configured as org leaders, so that they all pull
        # blocks directly from ordering service.
        orgLeader: true

        # Interval for membershipTracker polling
        membershipTrackerInterval: 5s

        # Overrides the endpoint that the peer publishes to peers
        # in its organization. For peers in foreign organizations
        # see 'externalEndpoint'
        endpoint:
        # Maximum count of blocks stored in memory
        maxBlockCountToStore: 10
        # Max time between consecutive message pushes(unit: millisecond)
        maxPropagationBurstLatency: 10ms
        # Max number of messages stored until a push is triggered to remote peers
        maxPropagationBurstSize: 10
        # Number of times a message is pushed to remote peers
        propagateIterations: 1
        # Number of peers selected to push messages to
        propagatePeerNum: 3
        # Determines frequency of pull phases(unit: second)
        # Must be greater than digestWaitTime + responseWaitTime
        pullInterval: 4s
        # Number of peers to pull from
        pullPeerNum: 3
        # Determines frequency of pulling state info messages from peers(unit: second)
        requestStateInfoInterval: 4s
        # Determines frequency of pushing state info messages to peers(unit: second)
        publishStateInfoInterval: 4s
        # Maximum time a stateInfo message is kept until expired
        stateInfoRetentionInterval:
        # Time from startup certificates are included in Alive messages(unit: second)
        publishCertPeriod: 10s
        # Should we skip verifying block messages or not (currently not in use)
        skipBlockVerification: false
        # Dial timeout(unit: second)
        dialTimeout: 3s
        # Connection timeout(unit: second)
        connTimeout: 2s
        # Buffer size of received messages
        recvBuffSize: 20
        # Buffer size of sending messages
        sendBuffSize: 200
        # Time to wait before pull engine processes incoming digests (unit: second)
        # Should be slightly smaller than requestWaitTime
        digestWaitTime: 1s
        # Time to wait before pull engine removes incoming nonce (unit: milliseconds)
        # Should be slightly bigger than digestWaitTime
        requestWaitTime: 1500ms
        # Time to wait before pull engine ends pull (unit: second)
        responseWaitTime: 2s
        # Alive check interval(unit: second)
        aliveTimeInterval: 5s
        # Alive expiration timeout(unit: second)
        aliveExpirationTimeout: 25s
        # Reconnect interval(unit: second)
        reconnectInterval: 25s
        # Max number of attempts to connect to a peer
        maxConnectionAttempts: 120
        # Message expiration factor for alive messages
        msgExpirationFactor: 20
        # This is an endpoint that is published to peers outside of the organization.
        # If this isn't set, the peer will not be known to other organizations.
        externalEndpoint:
        # Leader election service configuration
        election:
          # Longest time peer waits for stable membership during leader election startup (unit: second)
          startupGracePeriod: 15s
          # Interval gossip membership samples to check its stability (unit: second)
          membershipSampleInterval: 1s
          # Time passes since last declaration message before peer decides to perform leader election (unit: second)
          leaderAliveThreshold: 10s
          # Time between peer sends propose message and declares itself as a leader (sends declaration message) (unit: second)
          leaderElectionDuration: 5s

        pvtData:
          # pullRetryThreshold determines the maximum duration of time private data corresponding for a given block
          # would be attempted to be pulled from peers until the block would be committed without the private data
          pullRetryThreshold: 60s
          # As private data enters the transient store, it is associated with the peer's ledger's height at that time.
          # transientstoreMaxBlockRetention defines the maximum difference between the current ledger's height upon commit,
          # and the private data residing inside the transient store that is guaranteed not to be purged.
          # Private data is purged from the transient store when blocks with sequences that are multiples
          # of transientstoreMaxBlockRetention are committed.
          transientstoreMaxBlockRetention: 1000
          # pushAckTimeout is the maximum time to wait for an acknowledgement from each peer
          # at private data push at endorsement time.
          pushAckTimeout: 3s
          # Block to live pulling margin, used as a buffer
          # to prevent peer from trying to pull private data
          # from peers that is soon to be purged in next N blocks.
          # This helps a newly joined peer catch up to current
          # blockchain height quicker.
          btlPullMargin: 10
          # the process of reconciliation is done in an endless loop, while in each iteration reconciler tries to
          # pull from the other peers the most recent missing blocks with a maximum batch size limitation.
          # reconcileBatchSize determines the maximum batch size of missing private data that will be reconciled in a
          # single iteration.
          reconcileBatchSize: 10
          # reconcileSleepInterval determines the time reconciler sleeps from end of an iteration until the beginning
          # of the next reconciliation iteration.
          reconcileSleepInterval: 1m
          # reconciliationEnabled is a flag that indicates whether private data reconciliation is enable or not.
          reconciliationEnabled: true
          # skipPullingInvalidTransactionsDuringCommit is a flag that indicates whether pulling of invalid
          # transaction's private data from other peers need to be skipped during the commit time and pulled
          # only through reconciler.
          skipPullingInvalidTransactionsDuringCommit: false
          # implicitCollectionDisseminationPolicy specifies the dissemination  policy for the peer's own implicit collection.
          # When a peer endorses a proposal that writes to its own implicit collection, below values override the default values
          # for disseminating private data.
          # Note that it is applicable to all channels the peer has joined. The implication is that requiredPeerCount has to
          # be smaller than the number of peers in a channel that has the lowest numbers of peers from the organization.
          implicitCollectionDisseminationPolicy:
            # requiredPeerCount defines the minimum number of eligible peers to which the peer must successfully
            # disseminate private data for its own implicit collection during endorsement. Default value is 0.
            requiredPeerCount: 0
            # maxPeerCount defines the maximum number of eligible peers to which the peer will attempt to
            # disseminate private data for its own implicit collection during endorsement. Default value is 1.
            maxPeerCount: 1

        # Gossip state transfer related configuration
        state:
          # indicates whenever state transfer is enabled or not
          # default value is true, i.e. state transfer is active
          # and takes care to sync up missing blocks allowing
          # lagging peer to catch up to speed with rest network
          enabled: false
          # checkInterval interval to check whether peer is lagging behind enough to
          # request blocks via state transfer from another peer.
          checkInterval: 10s
          # responseTimeout amount of time to wait for state transfer response from
          # other peers
          responseTimeout: 3s
          # batchSize the number of blocks to request via state transfer from another peer
          batchSize: 10
          # blockBufferSize reflects the size of the re-ordering buffer
          # which captures blocks and takes care to deliver them in order
          # down to the ledger layer. The actual buffer size is bounded between
          # 0 and 2*blockBufferSize, each channel maintains its own buffer
          blockBufferSize: 20
          # maxRetries maximum number of re-tries to ask
          # for single state transfer request
          maxRetries: 3

      # TLS Settings
      tls:
        # Require server-side TLS
        enabled:  false
        # Require client certificates / mutual TLS.
        # Note that clients that are not configured to use a certificate will
        # fail to connect to the peer.
        clientAuthRequired: false
        # X.509 certificate used for TLS server
        cert:
          file: tls/server.crt
        # Private key used for TLS server (and client if clientAuthEnabled
        # is set to true
        key:
          file: tls/server.key
        # Trusted root certificate chain for tls.cert
        rootcert:
          file: tls/ca.crt
        # Set of root certificate authorities used to verify client certificates
        clientRootCAs:
          files:
            - tls/ca.crt
        # Private key used for TLS when making client connections.  If
        # not set, peer.tls.key.file will be used instead
        clientKey:
          file:
        # X.509 certificate used for TLS when making client connections.
        # If not set, peer.tls.cert.file will be used instead
        clientCert:
          file:

      # Authentication contains configuration parameters related to authenticating
      # client messages
      authentication:
        # the acceptable difference between the current server time and the
        # client's time as specified in a client request message
        timewindow: 15m

      # Path on the file system where peer will store data (eg ledger). This
      # location must be access control protected to prevent unintended
      # modification that might corrupt the peer operations.
      fileSystemPath: /var/hyperledger/production

      # BCCSP (Blockchain crypto provider): Select which crypto implementation or
      # library to use
      BCCSP:
        Default: SW
        # Settings for the SW crypto provider (i.e. when DEFAULT: SW)
        SW:
          # TODO: The default Hash and Security level needs refactoring to be
          # fully configurable. Changing these defaults requires coordination
          # SHA2 is hardcoded in several places, not only BCCSP
          Hash: SHA2
          Security: 256
          # Location of Key Store
          FileKeyStore:
            # If "", defaults to 'mspConfigPath'/keystore
            KeyStore:
        # Settings for the PKCS#11 crypto provider (i.e. when DEFAULT: PKCS11)
        PKCS11:
          # Location of the PKCS11 module library
          Library:
          # Token Label
          Label:
          # User PIN
          Pin:
          Hash:
          Security:

      # Path on the file system where peer will find MSP local configurations
      mspConfigPath: msp

      # Identifier of the local MSP
      # ----!!!!IMPORTANT!!!-!!!IMPORTANT!!!-!!!IMPORTANT!!!!----
      # Deployers need to change the value of the localMspId string.
      # In particular, the name of the local MSP ID of a peer needs
      # to match the name of one of the MSPs in each of the channel
      # that this peer is a member of. Otherwise this peer's messages
      # will not be identified as valid by other nodes.
      localMspId: SampleOrg

      # CLI common client config options
      client:
        # connection timeout
        connTimeout: 3s

      # Delivery service related config
      deliveryclient:
        # It sets the total time the delivery service may spend in reconnection
        # attempts until its retry logic gives up and returns an error
        reconnectTotalTimeThreshold: 3600s

        # It sets the delivery service <-> ordering service node connection timeout
        connTimeout: 3s

        # It sets the delivery service maximal delay between consecutive retries
        reConnectBackoffThreshold: 3600s

        # A list of orderer endpoint addresses which should be overridden
        # when found in channel configurations.
        addressOverrides:
    
          - caCertsFile: /etc/hyperledger/fabric/peer-custom-config/orderer01.orderer.dev-galachain.gala.internal.yaml
            from: orderer01.orderer.dev-galachain.gala.internal:443
            to: orderer01.orderer.dev.galachain.com:443
          - caCertsFile: /etc/hyperledger/fabric/peer-custom-config/orderer02.orderer.dev-galachain.gala.internal.yaml
            from: orderer02.orderer.dev-galachain.gala.internal:443
            to: orderer02.orderer.dev.galachain.com:443
          - caCertsFile: /etc/hyperledger/fabric/peer-custom-config/orderer03.orderer.dev-galachain.gala.internal.yaml
            from: orderer03.orderer.dev-galachain.gala.internal:443
            to: orderer03.orderer.dev.galachain.com:443

      # Type for the local MSP - by default it's of type bccsp
      localMspType: bccsp

      # Used with Go profiling tools only in none production environment. In
      # production, it should be disabled (eg enabled: false)
      profile:
        enabled:     false
        listenAddress: 0.0.0.0:6060

      # Handlers defines custom handlers that can filter and mutate
      # objects passing within the peer, such as:
      #   Auth filter - reject or forward proposals from clients
      #   Decorators  - append or mutate the chaincode input passed to the chaincode
      #   Endorsers   - Custom signing over proposal response payload and its mutation
      # Valid handler definition contains:
      #   - A name which is a factory method name defined in
      #     core/handlers/library/library.go for statically compiled handlers
      #   - library path to shared object binary for pluggable filters
      # Auth filters and decorators are chained and executed in the order that
      # they are defined. For example:
      # authFilters:
      #   -
      #     name: FilterOne
      #     library: /opt/lib/filter.so
      #   -
      #     name: FilterTwo
      # decorators:
      #   -
      #     name: DecoratorOne
      #   -
      #     name: DecoratorTwo
      #     library: /opt/lib/decorator.so
      # Endorsers are configured as a map that its keys are the endorsement system chaincodes that are being overridden.
      # Below is an example that overrides the default ESCC and uses an endorsement plugin that has the same functionality
      # as the default ESCC.
      # If the 'library' property is missing, the name is used as the constructor method in the builtin library similar
      # to auth filters and decorators.
      # endorsers:
      #   escc:
      #     name: DefaultESCC
      #     library: /etc/hyperledger/fabric/plugin/escc.so
      handlers:
        authFilters:
          -
            name: DefaultAuth
          -
            name: ExpirationCheck    # This filter checks identity x509 certificate expiration
        decorators:
          -
            name: DefaultDecorator
        endorsers:
          escc:
            name: DefaultEndorsement
            library:
        validators:
          vscc:
            name: DefaultValidation
            library:

      #    library: /etc/hyperledger/fabric/plugin/escc.so
      # Number of goroutines that will execute transaction validation in parallel.
      # By default, the peer chooses the number of CPUs on the machine. Set this
      # variable to override that choice.
      # NOTE: overriding this value might negatively influence the performance of
      # the peer so please change this value only if you know what you're doing
      validatorPoolSize:

      # The discovery service is used by clients to query information about peers,
      # such as - which peers have joined a certain channel, what is the latest
      # channel config, and most importantly - given a chaincode and a channel,
      # what possible sets of peers satisfy the endorsement policy.
      discovery:
        enabled: true
        # Whether the authentication cache is enabled or not.
        authCacheEnabled: true
        # The maximum size of the cache, after which a purge takes place
        authCacheMaxSize: 1000
        # The proportion (0 to 1) of entries that remain in the cache after the cache is purged due to overpopulation
        authCachePurgeRetentionRatio: 0.75
        # Whether to allow non-admins to perform non channel scoped queries.
        # When this is false, it means that only peer admins can perform non channel scoped queries.
        orgMembersAllowedAccess: false

      # Limits is used to configure some internal resource limits.
      limits:
        # Concurrency limits the number of concurrently running requests to a service on each peer.
        # Currently this option is only applied to endorser service and deliver service.
        # When the property is missing or the value is 0, the concurrency limit is disabled for the service.
        concurrency:
          # endorserService limits concurrent requests to endorser service that handles chaincode deployment, query and invocation,
          # including both user chaincodes and system chaincodes.
          endorserService: 2500
          # deliverService limits concurrent event listeners registered to deliver service for blocks and transaction events.
          deliverService: 2500

    ###############################################################################
    #
    #    VM section
    #
    ###############################################################################
    vm:

      # Endpoint of the vm management system.  For docker can be one of the following in general
      # unix:///var/run/docker.sock
      # http://localhost:2375
      # https://localhost:2376
      endpoint: ""

      # settings for docker vms
      docker:
        tls:
          enabled: false
          ca:
            file: docker/ca.crt
          cert:
            file: docker/tls.crt
          key:
            file: docker/tls.key

        # Enables/disables the standard out/err from chaincode containers for
        # debugging purposes
        attachStdout: false

        # Parameters on creating docker container.
        # Container may be efficiently created using ipam & dns-server for cluster
        # NetworkMode - sets the networking mode for the container. Supported
        # standard values are: `host`(default),`bridge`,`ipvlan`,`none`.
        # Dns - a list of DNS servers for the container to use.
        # Note:  `Privileged` `Binds` `Links` and `PortBindings` properties of
        # Docker Host Config are not supported and will not be used if set.
        # LogConfig - sets the logging driver (Type) and related options
        # (Config) for Docker. For more info,
        # https://docs.docker.com/engine/admin/logging/overview/
        # Note: Set LogConfig using Environment Variables is not supported.
        hostConfig:
          NetworkMode: host
          Dns:
          # - 192.168.0.1
          LogConfig:
            Type: json-file
            Config:
              max-size: "50m"
              max-file: "5"
          Memory: 2147483648

    ###############################################################################
    #
    #    Chaincode section
    #
    ###############################################################################
    chaincode:

      # The id is used by the Chaincode stub to register the executing Chaincode
      # ID with the Peer and is generally supplied through ENV variables
      # the `path` form of ID is provided when installing the chaincode.
      # The `name` is used for all other requests and can be any string.
      id:
        path:
        name:

      # Generic builder environment, suitable for most chaincode types
      builder: $(DOCKER_NS)/fabric-ccenv:$(TWO_DIGIT_VERSION)

      pull: false

      golang:
        # golang will never need more than baseos
        runtime: $(DOCKER_NS)/fabric-baseos:$(TWO_DIGIT_VERSION)

        # whether or not golang chaincode should be linked dynamically
        dynamicLink: false

      java:
        # This is an image based on java:openjdk-8 with addition compiler
        # tools added for java shim layer packaging.
        # This image is packed with shim layer libraries that are necessary
        # for Java chaincode runtime.
        runtime: $(DOCKER_NS)/fabric-javaenv:$(TWO_DIGIT_VERSION)

      node:
        # This is an image based on node:$(NODE_VER)-alpine
        runtime: $(DOCKER_NS)/fabric-nodeenv:$(TWO_DIGIT_VERSION)

      # List of directories to treat as external builders and launchers for
      # chaincode. The external builder detection processing will iterate over the
      # builders in the order specified below.
      externalBuilders:
        - name: ccaas_builder
          path: /opt/hyperledger/ccaas_builder
          propagateEnvironment:
          - CHAINCODE_AS_A_SERVICE_BUILDER_CONFIG
      # The maximum duration to wait for the chaincode build and install process
      # to complete.
      installTimeout: 8m0s

      # Timeout duration for starting up a container and waiting for Register
      # to come through.
      startuptimeout: 5m0s

      # Timeout duration for Invoke and Init calls to prevent runaway.
      # This timeout is used by all chaincodes in all the channels, including
      # system chaincodes.
      # Note that during Invoke, if the image is not available (e.g. being
      # cleaned up when in development environment), the peer will automatically
      # build the image, which might take more time. In production environment,
      # the chaincode image is unlikely to be deleted, so the timeout could be
      # reduced accordingly.
      executetimeout: 30s

      # There are 2 modes: "dev" and "net".
      # In dev mode, user runs the chaincode after starting peer from
      # command line on local machine.
      # In net mode, peer will run chaincode in a docker container.
      mode: net

      # keepalive in seconds. In situations where the communication goes through a
      # proxy that does not support keep-alive, this parameter will maintain connection
      # between peer and chaincode.
      # A value <= 0 turns keepalive off
      keepalive: 0

      # enabled system chaincodes
      system:
        _lifecycle: enable
        cscc: enable
        lscc: enable
        escc: enable
        vscc: enable
        qscc: enable

      # Logging section for the chaincode container
      logging:
        # Default level for all loggers within the chaincode container
        level:  info
        # Override default level for the 'shim' logger
        shim:   warning
        # Format for the chaincode container logs
        format: '%{color}%{time:2006-01-02 15:04:05.000 MST} [%{module}] %{shortfunc} -> %{level:.4s} %{id:03x}%{color:reset} %{message}'

    ###############################################################################
    #
    #    Ledger section - ledger configuration encompasses both the blockchain
    #    and the state
    #
    ###############################################################################
    ledger:

      blockchain:
      snapshots:
        rootDir: /var/hyperledger/production/snapshots

      state:
        # stateDatabase - options are "goleveldb", "CouchDB"
        # goleveldb - default state database stored in goleveldb.
        # CouchDB - store state database in CouchDB
        stateDatabase: goleveldb
        # Limit on the number of records to return per query
        totalQueryLimit: 100000
        couchDBConfig:
          # It is recommended to run CouchDB on the same server as the peer, and
          # not map the CouchDB container port to a server port in docker-compose.
          # Otherwise proper security must be provided on the connection between
          # CouchDB client (on the peer) and server.
          couchDBAddress: 127.0.0.1:5984
          # This username must have read and write authority on CouchDB
          username:
          # The password is recommended to pass as an environment variable
          # during start up (eg CORE_LEDGER_STATE_COUCHDBCONFIG_PASSWORD).
          # If it is stored here, the file must be access control protected
          # to prevent unintended users from discovering the password.
          password:
          # Number of retries for CouchDB errors
          maxRetries: 3
          # Number of retries for CouchDB errors during peer startup.
          # The delay between retries doubles for each attempt.
          # Default of 10 retries results in 11 attempts over 2 minutes.
          maxRetriesOnStartup: 10
          # CouchDB request timeout (unit: duration, e.g. 20s)
          requestTimeout: 35s
          # Limit on the number of records per each CouchDB query
          # Note that chaincode queries are only bound by totalQueryLimit.
          # Internally the chaincode may execute multiple CouchDB queries,
          # each of size internalQueryLimit.
          internalQueryLimit: 1000
          # Limit on the number of records per CouchDB bulk update batch
          maxBatchUpdateSize: 1000
          # Warm indexes after every N blocks.
          # This option warms any indexes that have been
          # deployed to CouchDB after every N blocks.
          # A value of 1 will warm indexes after every block commit,
          # to ensure fast selector queries.
          # Increasing the value may improve write efficiency of peer and CouchDB,
          # but may degrade query response time.
          warmIndexesAfterNBlocks: 1
          # Create the _global_changes system database
          # This is optional.  Creating the global changes database will require
          # additional system resources to track changes and maintain the database
          createGlobalChangesDB: false
          # CacheSize denotes the maximum mega bytes (MB) to be allocated for the in-memory state
          # cache. Note that CacheSize needs to be a multiple of 32 MB. If it is not a multiple
          # of 32 MB, the peer would round the size to the next multiple of 32 MB.
          # To disable the cache, 0 MB needs to be assigned to the cacheSize.
          cacheSize: 64

      history:
        # enableHistoryDatabase - options are true or false
        # Indicates if the history of key updates should be stored.
        # All history 'index' will be stored in goleveldb, regardless if using
        # CouchDB or alternate database for the state.
        enableHistoryDatabase: true

      pvtdataStore:
        # the maximum db batch size for converting
        # the ineligible missing data entries to eligible missing data entries
        collElgProcMaxDbBatchSize: 5000
        # the minimum duration (in milliseconds) between writing
        # two consecutive db batches for converting the ineligible missing data entries to eligible missing data entries
        collElgProcDbBatchesInterval: 1000

    ###############################################################################
    #
    #    Operations section
    #
    ###############################################################################
    operations:
      # host and port for the operations server
      listenAddress: 127.0.0.1:9443

      # TLS configuration for the operations endpoint
      tls:
        # TLS enabled
        enabled: false

        # path to PEM encoded server certificate for the operations server
        cert:
          file:

        # path to PEM encoded server key for the operations server
        key:
          file:

        # most operations service endpoints require client authentication when TLS
        # is enabled. clientAuthRequired requires client certificate authentication
        # at the TLS layer to access all resources.
        clientAuthRequired: false

        # paths to PEM encoded ca certificates to trust for client authentication
        clientRootCAs:
          files: []

    ###############################################################################
    #
    #    Metrics section
    #
    ###############################################################################
    metrics:
      # metrics provider is one of statsd, prometheus, or disabled
      provider: disabled

      # statsd configuration
      statsd:
        # network type: tcp or udp
        network: udp

        # statsd server address
        address: 127.0.0.1:8125

        # the interval at which locally cached counters and gauges are pushed
        # to statsd; timings are pushed immediately
        writeInterval: 10s

        # prefix is prepended to all emitted statsd metrics
        prefix:
---
# Source: hlf-peer/templates/configmap--peer.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: peer01-championsarena--peer
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
data:
  CORE_PEER_ID: hlf-cc-dev
  CORE_PEER_NETWORKID: hlf-cc-dev-nid
  CORE_PEER_ADDRESSAUTODETECT: "true"
  # If we have an ingress, we set hostname to it
  CORE_PEER_ADDRESS: peer01-championsarena.curator.dev.galachain.com:443
  CORE_PEER_GOSSIP_EXTERNALENDPOINT: "peer01-championsarena.curator.dev.galachain.com:443"
  CORE_PEER_GOSSIP_BOOTSTRAP: ""
  CORE_PEER_GOSSIP_ENDPOINT: "peer01-championsarena.curator.dev.galachain.com:443"
  CORE_PEER_LISTENADDRESS: 0.0.0.0:7051
  CORE_PEER_CHAINCODELISTENADDRESS: 0.0.0.0:7052
  CORE_PEER_EVENTS_ADDRESS: 0.0.0.0:7053
  CORE_PEER_COMMITTER_ENABLED: "true"
  CORE_PEER_PROFILE_ENABLED: "true"
  CORE_PEER_DISCOVERY_PERIOD: 60s
  CORE_PEER_DISCOVERY_TOUCHPERIOD: 60s
  CORE_PEER_LOCALMSPID: "CuratorOrg"
  CORE_PEER_MSPCONFIGPATH: /var/hyperledger/msp
  ##############
  # Operations #
  ##############
  CORE_OPERATIONS_TLS_ENABLED: "false"
  CORE_OPERATIONS_TLS_KEY_FILE: "/var/hyperledger/tls/operations/pair/tls.key"
  CORE_OPERATIONS_TLS_CERT_FILE: "/var/hyperledger/tls/operations/pair/tls.crt"
  CORE_OPERATIONS_TLS_CLIENTAUTHREQUIRED: "false"
  CORE_OPERATIONS_LISTENADDRESS: "0.0.0.0:9443"
  CORE_OPERATIONS_TLS_CLIENTROOTCAS_FILES: "/var/hyperledger/tls/server/cert/cacert.pem"
  ##############
  # Events #
  ##############
  CORE_PEER_EVENTS_ADDRESS: "0.0.0.0:7053"
  ##############
  # Metrics #
  ##############
  CORE_METRICS_PROVIDER: "prometheus"
  # Logging #
  ###########
  #CORE_LOGGING_LEVEL: "info"
  FABRIC_LOGGING_SPEC: "info"
  CORE_LOGGING_PEER: "info"
  CORE_LOGGING_CAUTHDSL: "info"
  CORE_LOGGING_GOSSIP: "info"
  CORE_LOGGING_LEDGER: "info"
  CORE_LOGGING_MSP: "info"
  CORE_LOGGING_POLICIES: "info"
  CORE_LOGGING_GRPC: "info"
  ##########
  # Gossip #
  ##########

  CORE_PEER_GOSSIP_ORGLEADER: "true"
  CORE_PEER_GOSSIP_USELEADERELECTION: "false"
  ##########
  # TLS    #
  ##########
  CORE_PEER_TLS_ENABLED: "true"
  CORE_PEER_TLS_CERT_FILE: "/var/hyperledger/tls/server/pair/tls.crt"
  CORE_PEER_TLS_KEY_FILE: "/var/hyperledger/tls/server/pair/tls.key"
  CORE_PEER_TLS_ROOTCERT_FILE: "/var/hyperledger/tls/server/cert/cacert.pem"
  CORE_PEER_TLS_CLIENTAUTHREQUIRED: "false"
  # This is fixed prior to starting the peer
  CORE_PEER_TLS_CLIENTROOTCAS_FILES: "/var/hyperledger/tls/client/cert/*"
  CORE_PEER_TLS_CLIENTCERT_FILE: "/var/hyperledger/tls/client/pair/tls.crt"
  CORE_PEER_TLS_CLIENTKEY_FILE: "/var/hyperledger/tls/client/pair/tls.key"
  CORE_LEDGER_STATE_STATEDATABASE: "goleveldb"
  # Containers in the same pod share the host
  PEER_CFG_PATH: /var/hyperledger/config
  FABRIC_CFG_PATH: /var/hyperledger/fabric_cfg
  ADMIN_MSP_PATH: /var/hyperledger/admin_msp
  ORD_TLS_PATH: /var/hyperledger/tls/ord/cert
---
# Source: hlf-peer/templates/pvc.yaml
kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: peer01-championsarena
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
spec:
  accessModes:
    - "ReadWriteOnce"
  resources:
    requests:
      storage: "5Gi"
  storageClassName: "ebs-sc"
---
# Source: hlf-peer/templates/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: peer01-championsarena
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
rules:
  - apiGroups:
      - ""
      - extensions
    resources:
      - pods/status
      - pods/log
    verbs:
      - create
      - get
      - list
      - update
      - watch
      - patch
  - apiGroups:
      - ""
      - extensions
    resources:
      - pods
    verbs:
      - get
      - list
      - watch
      - create
      - delete
---
# Source: hlf-peer/templates/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: peer01-championsarena-curator
  namespace: curator
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: peer01-championsarena
subjects:
  - kind: ServiceAccount
    name: peer01-championsarena
    namespace: curator
---
# Source: hlf-peer/templates/service-fs.yaml
apiVersion: v1
kind: Service
metadata:
  name: peer01-championsarena-fs
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
spec:
  type: ClusterIP
  ports:
    - port: 8080
      targetPort: 8080
      protocol: TCP
  selector:
    app: hlf-peer
    release: hlf-cc-dev
---
# Source: hlf-peer/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: peer01-championsarena
  labels:
    app: hlf-peer
    heritage: "Helm"
    release: "hlf-cc-dev"
    chart: hlf-peer-1.3.0
spec:
  replicas: 1
  selector:
    matchLabels:
      app: hlf-peer
      release: hlf-cc-dev
  # Ensure we allow our pod to be unavailable, so we can upgrade
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        checksum/configmap--peer: 358ec8e87fd160bad3d5dd5a3bf98f3997153912d4c7d61df84dbed8dd14
        checksum/configmap--peer--core: 58c46f4bb190ba0a640a7a1397c57f2754d5157dc2fdf67fcd98a0758d1a
        checksum/config-ou: 855b4ed8f6f780bbc381b4cd2f2b7a2baebca6b9b8dfa7626421f242481d
        checksum/secret--couchdb: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852
        checksum/secret--peer-idcert: 235c6a40a9e31fd79cc5693d273efc1db643ab3c278d3562fcb85cb39af0
        checksum/secret--peer-idkey: 9c2fbcfaccf4ebdab03f9e5cb4b3a6c725ce6e41a877c30e64b67df4d344
        checksum/secret--peer-ops-tls: e62ba10281a98b20e8b278fbed5383ce2dc7a5d3c4aa73dbb46f10676531
        checksum/secret--peer-tls: 6d1b97940bb671f919486e7ac2ff49f1b51ea1abb4eab0b1daa4ce999314
        checksum/secret--peerorg-cacert: df2f70dd06407159e9ee4c8ff667adb603fadd16eea2d53aea5d4c037d92
        checksum/secret--peerorg-intcacert: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852
        checksum/secret--peerorg-tlsintcacert: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852
        checksum/secret--peerorg-tlsrootcert: 97ae337d2f86d68fb916751ab475a4025275f7604b303ca55e1a6d009c61
        checksum/secret--tlsclientrootcert: 93672b562d36441bff05470ecea7bfe140846255720201ee9515a4e32b3e
        app: hlf-peer
        heritage: "Helm"
        release: "hlf-cc-dev"
        chart: hlf-peer-1.3.0
        component: peer
        mspId: CuratorOrg
      annotations:
        ad.datadoghq.com/peer.checks: |
          {
              "openmetrics": {
                "instances": [
                  {
                    "openmetrics_endpoint": "http://%%host%%:9443/metrics",
                    "namespace": "peer",
                    "metrics": [".*"]
                  }
                ]
              }
            }
    spec:
      serviceAccountName: peer01-championsarena
      hostAliases:
          null
      volumes:
# range through .Values.volumes
        - name: data
          persistentVolumeClaim:
            claimName: peer01-championsarena
        - name: peerconfig
          configMap:
            name: peer01-championsarena--peer--core
        - name: id-cert
          secret:
            secretName: peer01-championsarena-idcert
        - name: id-key
          secret:
            secretName: peer01-championsarena-idkey
        - name: cacert
          secret:
            secretName: peer01-championsarena-cacert
        - name: tls-clientrootcert
          secret:
            secretName: peer01-championsarena--tlsclientrootcerts
        - name: nodeou
          configMap:
            name: 'peer01-championsarena-nodeou'
            items:
              - key: 'config.yaml'
                path: 'config.yaml'
        - name: tls
          secret:
            secretName: "peer01-championsarena-tls"
        - name: tls-ops
          secret:
            secretName: "peer01-championsarena-tls-ops"
        - name: tls-rootcert
          secret:
            secretName: "peer01-championsarena-tlsrootcert"
        - name: tls-client
          secret:
            secretName: "peer01-championsarena-tls"
      containers:

        - name: peer
          image: "hyperledger/fabric-peer:2.5.5"
          imagePullPolicy: IfNotPresent
          ports:
            - name: request
              containerPort: 7051
              protocol: TCP
            - name: event
              containerPort: 7053
              protocol: TCP
            - name: operations
              containerPort: 9443
              protocol: TCP
          livenessProbe:
            successThreshold: 1
            failureThreshold: 3
            timeoutSeconds: 5
            httpGet:
              port: 9443
              path: /healthz
            initialDelaySeconds: 5
            periodSeconds: 5
          readinessProbe:
            httpGet:
              port: 9443
              path: /healthz
            initialDelaySeconds: 5
            failureThreshold: 3
            successThreshold: 1
            periodSeconds: 5
          command:
            - /bin/sh
            - -c
            - |
              echo "\033[0;31m peer node initialization \033[0m"
              # To avoid having separate secrets for CouchDB and HLF
              export CORE_LEDGER_STATE_COUCHDBCONFIG_USERNAME=$COUCHDB_USER
              export CORE_LEDGER_STATE_COUCHDBCONFIG_PASSWORD=$COUCHDB_PASSWORD

              while [ ! -d ${CORE_PEER_MSPCONFIGPATH}/signcerts ];
              do
                echo "\033[0;31m ${CORE_PEER_MSPCONFIGPATH}/signcerts directory must exist \033[0m"
                sleep 60
              done
              if [ ! -d ${FABRIC_CFG_PATH} ]
              then
                mkdir -p ${FABRIC_CFG_PATH}
                cp -r /etc/hyperledger/fabric/core.yaml ${FABRIC_CFG_PATH}
                ls ${FABRIC_CFG_PATH}
              fi


              echo ">\033[0;35m peer node start \033[0m"
              peer node start
          #              sleep 6000000

          env:
            - name: FABRIC_LOGGING_FORMAT
              value: json
          envFrom:
            - configMapRef:
                name: peer01-championsarena--peer
          volumeMounts:
# range volumeMounts
            - name: peerconfig
              mountPath: /var/hyperledger/fabric_cfg
            - mountPath: /var/hyperledger
              name: data
            - mountPath: /var/hyperledger/msp/signcerts
              name: id-cert
            - mountPath: /var/hyperledger/msp/keystore
              name: id-key
            - mountPath: /var/hyperledger/msp/cacerts
              name: cacert
            - mountPath: /var/hyperledger/admin_msp/cacerts

              name: cacert
            - mountPath: /var/hyperledger/msp/tlscacerts
              name: tls-rootcert
            - mountPath: /var/hyperledger/msp/config.yaml
              name: nodeou
              subPath: config.yaml
            - mountPath: /var/hyperledger/tls/client/pair
              name: tls-client
            - mountPath: /var/hyperledger/tls/client/cert
              name: tls-clientrootcert
            - mountPath: /var/hyperledger/tls/server/pair
              name: tls
            - mountPath: /var/hyperledger/tls/operations/pair
              name: tls-ops
            - mountPath: /var/hyperledger/tls/server/cert
              name: tls-rootcert
          resources:
            limits:
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 128Mi
      affinity:
        ## This affinity is required to ensure reasonable ledger access speeds
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchLabels:
                  app: hlf-peer
                  mspId: CuratorOrg
              topologyKey: kubernetes.io/hostname
            weight: 100
---
# Source: hlf-peer/templates/traefikroute.yaml
apiVersion: traefik.containo.us/v1alpha1
kind: IngressRouteTCP
metadata:
  name: peer01-championsarena
spec:
  

  entryPoints:
  
    - websecure
  
  routes:
    - match: HostSNI(`peer01-championsarena.curator.dev.galachain.com`)
      services:
        - name: peer01-championsarena
          port: 7051
  
  tls:
    passthrough: true
